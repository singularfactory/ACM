<?php
/**
* This class has been auto-generated by the Doctrine ORM Framework
*/
class Version49 extends Doctrine_Migration_Base {
	public function up() {
		$this->dropForeignKey('pcr', 'pcr_dna_primer_id_dna_primer_id');
		$this->removeColumn('pcr', 'dna_primer_id');
		$this->dropTable('dna_primer');
		$this->addColumn('pcr', 'forward_primer', 'string', '10', array('notnull' => '1'));
		$this->addColumn('pcr', 'reverse_primer', 'string', '10', array('notnull' => '1'));
	}

	public function down() {
		$this->createTable('dna_primer', array(
			'id' => 
		array(
			'type' => 'integer',
			'primary' => '1',
			'autoincrement' => '1',
			'length' => '8',
			),
			'forward' => 
		array(
			'type' => 'string',
			'notnull' => '1',
			'length' => '10',
			),
			'reverse' => 
		array(
			'type' => 'string',
			'notnull' => '1',
			'length' => '10',
			),
			'created_at' => 
		array(
			'notnull' => '1',
			'type' => 'timestamp',
			'length' => '25',
			),
			'updated_at' => 
		array(
			'notnull' => '1',
			'type' => 'timestamp',
			'length' => '25',
			),
		), array(
			'type' => 'INNODB',
			'indexes' => 
		array(
			),
			'primary' => 
		array(
			0 => 'id',
			),
			));
		$this->addColumn('pcr', 'dna_primer_id', 'integer', '8', array('notnull' => '1'));
		$this->removeColumn('pcr', 'forward_primer');
		$this->removeColumn('pcr', 'reverse_primer');
		$this->createForeignKey('pcr', 'pcr_dna_primer_id_dna_primer_id', array(
			'name' => 'pcr_dna_primer_id_dna_primer_id',
			'local' => 'dna_primer_id',
			'foreign' => 'id',
			'foreignTable' => 'dna_primer',
		));
		$this->addIndex('pcr', 'pcr_dna_primer_id', array('fields' => array(0 => 'dna_primer_id')));
	}
}