<?php
/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class Version210 extends Doctrine_Migration_Base {
	public function up() {
		$this->createForeignKey('strain_usage', 'strain_usage_taxonomic_class_id_taxonomic_class_id', array(
			'name' => 'strain_usage_taxonomic_class_id_taxonomic_class_id',
			'local' => 'taxonomic_class_id',
			'foreign' => 'id',
			'foreignTable' => 'taxonomic_class',
		));
		$this->createForeignKey('strain_usage', 'strain_usage_genus_id_genus_id', array(
			'name' => 'strain_usage_genus_id_genus_id',
			'local' => 'genus_id',
			'foreign' => 'id',
			'foreignTable' => 'genus',
		));
		$this->createForeignKey('strain_usage', 'strain_usage_species_id_species_id', array(
			'name' => 'strain_usage_species_id_species_id',
			'local' => 'species_id',
			'foreign' => 'id',
			'foreignTable' => 'species',
		));
		$this->createForeignKey('strain_usage', 'strain_usage_usage_id_usage_area_usages_id', array(
			'name' => 'strain_usage_usage_id_usage_area_usages_id',
			'local' => 'usage_id',
			'foreign' => 'id',
			'foreignTable' => 'usage_area_usages',
		));
		$this->createForeignKey('usage_area_usages', 'usage_area_usages_usage_area_id_usage_area_id', array(
			'name' => 'usage_area_usages_usage_area_id_usage_area_id',
			'local' => 'usage_area_id',
			'foreign' => 'id',
			'foreignTable' => 'usage_area',
			'onUpdate' => 'cascade',
			'onDelete' => 'cascade',
		));
		$this->createForeignKey('usage_area_usages', 'usage_area_usages_usage_id_potential_usage_id', array(
			'name' => 'usage_area_usages_usage_id_potential_usage_id',
			'local' => 'usage_id',
			'foreign' => 'id',
			'foreignTable' => 'potential_usage',
		));
		$this->addIndex('strain_usage', 'strain_usage_taxonomic_class_id', array( 'fields' => array( 0 => 'taxonomic_class_id',),));
		$this->addIndex('strain_usage', 'strain_usage_genus_id', array( 'fields' => array( 0 => 'genus_id',),));
		$this->addIndex('strain_usage', 'strain_usage_species_id', array( 'fields' => array( 0 => 'species_id',),));
		$this->addIndex('strain_usage', 'strain_usage_usage_id', array( 'fields' => array( 0 => 'usage_id',),));
		$this->addIndex('usage_area_usages', 'usage_area_usages_usage_area_id', array( 'fields' => array( 0 => 'usage_area_id',),));
		$this->addIndex('usage_area_usages', 'usage_area_usages_usage_id', array( 'fields' => array( 0 => 'usage_id',),));
	}

	public function down() {
		$this->dropForeignKey('strain_usage', 'strain_usage_taxonomic_class_id_taxonomic_class_id');
		$this->dropForeignKey('strain_usage', 'strain_usage_genus_id_genus_id');
		$this->dropForeignKey('strain_usage', 'strain_usage_species_id_species_id');
		$this->dropForeignKey('strain_usage', 'strain_usage_usage_id_usage_area_usages_id');
		$this->dropForeignKey('usage_area_usages', 'usage_area_usages_usage_area_id_usage_area_id');
		$this->dropForeignKey('usage_area_usages', 'usage_area_usages_usage_id_potential_usage_id');
		$this->removeIndex('strain_usage', 'strain_usage_taxonomic_class_id', array( 'fields' => array( 0 => 'taxonomic_class_id',),));
		$this->removeIndex('strain_usage', 'strain_usage_genus_id', array( 'fields' => array( 0 => 'genus_id',),));
		$this->removeIndex('strain_usage', 'strain_usage_species_id', array( 'fields' => array( 0 => 'species_id',),));
		$this->removeIndex('strain_usage', 'strain_usage_usage_id', array( 'fields' => array( 0 => 'usage_id',),));
		$this->removeIndex('usage_area_usages', 'usage_area_usages_usage_area_id', array( 'fields' => array( 0 => 'usage_area_id',),));
		$this->removeIndex('usage_area_usages', 'usage_area_usages_usage_id', array( 'fields' => array( 0 => 'usage_id',),));
	}
}
