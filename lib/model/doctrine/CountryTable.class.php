<?php
/**
* CountryTable
* 
* This class has been auto-generated by the Doctrine ORM Framework
*/
class CountryTable extends Doctrine_Table {
	/**
	* Returns an instance of this class.
	*
	* @return object CountryTable
	*/
	public static function getInstance() {
		return Doctrine_Core::getTable('Country');
	}
	
	/**
	 * Returns the ID of the default country to show in selects
	 *
	 * @return integer
	 * @author Eliezer Talon
	 * @version	2011-04-13
	 */
	public function getDefaultCountryId() {
		$country = $this->createQuery()
			->from('Country c')
			->where('c.name LIKE ?', '%'.sfConfig::get('app_default_country_name').'%')
			->fetchOne();
		
		if ( $country ) {
			return $country->getId();
		}
		
		return null;
	}
		
}