CREATE TABLE environment (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE habitat (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE role (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sample (id BIGINT AUTO_INCREMENT, number BIGINT UNSIGNED UNIQUE NOT NULL, location VARCHAR(255) NOT NULL, latitude_degrees BIGINT, longitude_degrees BIGINT, latitude_minutes FLOAT(18, 2), longitude_minutes FLOAT(18, 2), environment_id BIGINT NOT NULL, habitat_id BIGINT NOT NULL, ph FLOAT(18, 2), conductivity FLOAT(18, 2), temperature FLOAT(18, 2), salinity FLOAT(18, 2), landscape_picture VARCHAR(255), close_picture VARCHAR(255), laboratory_picture VARCHAR(255), collector_id BIGINT NOT NULL, collection_date DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX environment_id_idx (environment_id), INDEX habitat_id_idx (habitat_id), INDEX collector_id_idx (collector_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE user (id BIGINT AUTO_INCREMENT, username VARCHAR(30) NOT NULL, password VARCHAR(30) NOT NULL, name VARCHAR(255) NOT NULL, surname VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, role_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX role_id_idx (role_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE sample ADD CONSTRAINT sample_habitat_id_habitat_id FOREIGN KEY (habitat_id) REFERENCES habitat(id);
ALTER TABLE sample ADD CONSTRAINT sample_environment_id_environment_id FOREIGN KEY (environment_id) REFERENCES environment(id);
ALTER TABLE sample ADD CONSTRAINT sample_collector_id_user_id FOREIGN KEY (collector_id) REFERENCES user(id);
ALTER TABLE user ADD CONSTRAINT user_role_id_role_id FOREIGN KEY (role_id) REFERENCES role(id);
